---
title: "Экстремальное программирование. Разработка через тестирование."
date: 2018-08-06T21:49:33+03:00
---
<img alt="Экстремальное программирование. Разработка через тестирование." class="blog-pic" src="https://ozon-st.cdn.ngenix.net/multimedia/1018707026.jpg" />

Прочитал полезную книгу Кента Бека &quot;Экстремальное программирование. Разработка через тестирование&quot;. Уже давно хотел заняться детальным изучением вопросов связанных с&nbsp;тестированием&nbsp;ПО.&nbsp;И вот, наконец, нашел время на прочтение данной книги. Что удивительного по поводу полезности -&nbsp;действительно полезной (по крайней мере для меня), оказалась только третья (последняя) часть книги. Первая&nbsp;часть описывает пример разработки небольшого проекта&nbsp;связанного с конвертацией валют, вторая - создание своего тестового фреймворка на python&#39;e, похожего на модуль unittest. Однако, именно в третьей части находится всё самое &quot;вкусное&quot;, что я хотел бы резюмировать в этой заметке.
<!--more-->

Шаблоны разработки через тестирование

*   Писать изолированные тесты. Запуск одного теста не должен влиять на выполнение других.
*   Составлять список задач, который в данном контексте будет списком тестов. По ходу разработки нужно поплнять этот список.
*   Когда нужно писать тесты? Перед тем как написать тестируемый код. Когда мы начинаем работу с написания тестов, мы снижаем уровень стресса, а значит тестирование может быть выполнено более тщательно.
*   С чего следует начать построение системы? С пользовательских историй о том как должна работать система, полученная в результате вашей работы. С чего нужно начать разработку некоторого функционала? С написания тестов, которые должны выполняться успегно, когда код будет полностью завершен. С чего начать написание теста? С assert.
*   Какие данные следует использовать для предварительных тестов? Данные, которые делают тест простым для чтения и понимания.

Шаблоны красной полосы

*   Какой следующий тест лучше всего выбрать из списка задач для реализации? Выбирайте тест, который научит вас чему либо \+ тест, который вы сможете реализовать.
*   Как распространить в своей команде использование автоматического тестирования? Для любых объяснений используйте тесты, спрашивайте тесты у всех, кто пытается что-либо вам объяснить.
*   Как предотвратить уход дискуссии от основной темы? Когда возникает интересная, но сторонняя мысль, добавьте в список ещё один тест и вернитесь к основной теме.
*   Что необходимо сделать, если обнаружен баг? Написать самый маленький тест из всех возможных тестов, который не работает и восстановить его работоспособность.
*   Что делать, если вы почувствовали усталость или зашли в тупик? Прервите работу и отдохните.
*   Что делать, если вы зашли в тупик? Выкиньте код и начните работу сначала.
*   В какой физической обстановке следует работать? Используйте удобное, кофмортное кресло. На всей остальной мебели можно сэкономить.

Шаблоны тестирования

*   Как заставить работать тест, который оказался слишком большим? Напишите тест меньшего размера, который представляет собой неработающую часть большого теста. Добейтесь успешного выполнения маленького теста. Заново напишите большой тест. Ритм красный\-зеленый\-рефакторинг чрезвычайно важен для достижения успеха. Не бойтесь потратить время, чтобы поддерживать этот ритм, \- дополнительные усилия окупят себя с лихвой.
*   Как выполнить тестирование объекта, который базируется на сложном и тяжловесном ресурсе? Создайте поддельную версию ресурса (Mock Object), которая будет возвращать константы.
*   Как можно протестировать работу кода, обращение к которому происходит в случае ошибки? Создайте специальный объект, который вместо реальной работы генерирует исключение.
*   Как следует завершить сеанс программирования, если вы программируете в одиночку? Оставьте последний тест неработающим.
*   Как следует завершить сеанс программирования, если вы программируете в составе команды? Все ваши тесты должны работать.

Шаблоны зеленой полосы (как быстро получить получить зеленую полосу)

*   Если у вас есть неработающий тест, какой должна быть самая первая реализация? Сделайте так, чтобы тестируемый метод возвращал константу. После того, как тест начал работать, постепенную трансоформируйте константу в выражение с использованием переменных.
*   Как реализовать простую операцию? Просто реализуйте её. Однако помните, что используя только очевидную  реализацию, вы требуете от себя совершенства. Очевидная реализация \- это вторая передача. Будьте готовы снизить скорость, если ваш мозг начинает выписывать чеки, которые не могут быть оплачены вашими пальцами.
*   Как реализовать операцию с коллекцией объектов? Сначала реализуйте эту операцию, манипулирующую единственным объектом, затем модернизируйте её для работы с коллекцией таких объектов.

